import pandas as pd
from textblob import TextBlob
import matplotlib.pyplot as plt
import seaborn as sns

df = pd.read_csv(r"C:\Users\yashv\Downloads\Prodigy Infotech\Tweets.csv")

print(df.head())

#to get sentiment polarity
def get_sentiment(text):
    blob = TextBlob(str(text))
    return blob.sentiment.polarity

df['sentiment'] = df['text'].apply(get_sentiment)

df['sentiment_category'] = df['sentiment'].apply(
    lambda x: 'Positive' if x > 0 else ('Negative' if x < 0 else 'Neutral')
)

print(df[['text', 'sentiment', 'sentiment_category']].head())

# Visualize 
sns.countplot(x='sentiment_category', hue='sentiment_category', data=df, palette='viridis', legend=False)
plt.title("Sentiment Analysis of Tweets")
plt.xlabel("Sentiment")
plt.ylabel("Number of Tweets")
plt.show()

# Plot 
plt.figure(figsize=(8,5))
sns.histplot(df['sentiment'], kde=True, color='teal')
plt.title("Sentiment Polarity Distribution")
plt.xlabel("Sentiment Polarity (-1 to +1)")
plt.ylabel("Frequency")
plt.show()
